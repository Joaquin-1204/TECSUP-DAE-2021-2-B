# Creado y listando Obetos:

$ python manage.py shell
Python 3.9.2 (tags/v3.9.2:1a79785, Feb 19 2021, 13:44:55) [MSC v.1928 64 bit (AMD64)] on win32      
Type "help", "copyright", "credits" or "license" for more information.
(InteractiveConsole)
>>> from recetas.models import Autor, Receta, Comentario

>>> a = Autor(nombre='Javier Pérez', email='eperez@gmail.com')

>>> a.save()

>>> Autor.objects.all()
<QuerySet [<Autor: Javier Pérez>]>

>>> primer = Autor.objects.get(pk=1)  
>>> primer.email
'eperez@gmail.com'

>>> primer.nombre
'Javier Pérez'

>>> r1 = Receta.objects.create(
... titulo='Huevo frito',
... ingredientes='huevo, sal, aceite',
... preparacion='Calentar la sarten y freir el huevo con la sal',
... autor=primer)

>>> Receta.objects.all()
<QuerySet [<Receta: Huevo frito>]>

>>> c1 = Comentario.objects.create(
... receta=r1,
... texto='Un clásico para el desayuno')

>>> Comentario.objects.all()
<QuerySet [<Comentario: Un clásico para el desayuno>]>

>>> r2 = Receta.objects.create(    
... titulo='Agua Hervida',
... ingredientes='agua',
... preparacion='Poner la tetera con agua en la cocina',
... autor=primer)

>>> Receta.objects.all()
<QuerySet [<Receta: Huevo frito>, <Receta: Agua Hervida>]>

#Filtrando Objetos:

>>> Receta.objects.exclude(ingredientes__startswith='A')
<QuerySet [<Receta: Huevo frito>, <Receta: Agua Hervida>]>

>>> Receta.objects.filter(preparacion__contains='tetera')
<QuerySet [<Receta: Agua Hervida>]>
<QuerySet [<Receta: Agua Hervida>, <Receta: Huevo frito>]>

>>> Receta.objects.all().order_by('titulo').reverse()
<QuerySet [<Receta: Huevo frito>, <Receta: Agua Hervida>]>

>>> Comentario.objects.filter(receta=r1)
<QuerySet [<Comentario: Un clásico para el desayuno>]>

>>> Comentario.objects.filter(receta=r2)
<QuerySet []>

>>> Receta.objects.filter(titulo='Huevo frito').update(titulo='Huevito frito')
1

>>> Receta.objects.all()
<QuerySet [<Receta: Huevito frito>, <Receta: Agua Hervida>]>

>>> c2 = Comentario.objects.create(
... receta=r1,
... texto='Para pasar el hambre')

>>> Comentario.objects.filter(receta=r1).count()
2

>>> Comentario.objects.filter(receta=r2).count()
0

>>> c3 = Comentario.objects.create(
... receta=r2,
... texto='Receta sin sentido')

>>> Comentario.objects.filter(receta=r2)
<QuerySet [<Comentario: Receta sin sentido>]>

>>> c3.delete()
(1, {'recetas.Comentario': 1})

>>> Comentario.objects.filter(receta=r2)
<QuerySet []>

>>> Receta.objects.get(titulo='Agua Hervida').autor.nombre
'Javier Pérez'

>>> Receta.objects.get(titulo='Agua Hervida').autor.email
'eperez@gmail.com'